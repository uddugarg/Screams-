{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\MERN\\\\Screams-\\\\frontend\\\\src\\\\components\\\\Post\\\\Follow.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { Button } from '@material-ui/core';\nimport './Post.css';\n\nfunction Follow(props) {\n  const user = useSelector(state => state.user);\n  const [followers, setFollowers] = useState(0);\n  const [followed, setFollowed] = useState(false);\n\n  const handleSubscribe = () => {\n    let variable = {\n      following: props.following,\n      follower: user.userData._id\n    };\n\n    if (followed === true) {\n      axios.post('/api/follow/unfollow', variable).then(response => {\n        if (response.data.success) {\n          setFollowers(followers - 1);\n          setFollowed(false);\n        } else {\n          alert('Unable to Unfollow');\n        }\n      });\n    } else {\n      axios.post('/api/follow/follow', variable).then(response => {\n        if (response.data.success) {\n          setFollowers(followers + 1);\n          setFollowed(true);\n        } else {\n          alert('User Cannot be followed!!');\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    const variable = {\n      following: props.following,\n      follower: user.userData._id\n    };\n    axios.post('/api/follow/followers', variable).then(response => {\n      if (response.data.success) {\n        setFollowers(response.data.followers.length);\n      } else {\n        alert('Cannot get Followers');\n      }\n    });\n    axios.post('/api/follow/followed', variable).then(response => {\n      if (response.data.success) {\n        if (response.data.followed.length !== 0) {\n          setFollowed(true);\n        }\n      } else {\n        alert('Cannot Get Info!!');\n      }\n    });\n  }, []);\n\n  if (user.userData._id !== props.following) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"postDetail__flwBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: followed === true ? 'flw' : '',\n      variant: \"outlined\",\n      type: \"submit\",\n      onClick: handleSubscribe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, followers, \" \", followed === true ? 'Followed' : 'Follow'));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    });\n  }\n}\n\nexport default Follow;","map":{"version":3,"sources":["D:/Web Development/MERN/Screams-/frontend/src/components/Post/Follow.js"],"names":["React","useEffect","useState","axios","useSelector","Button","Follow","props","user","state","followers","setFollowers","followed","setFollowed","handleSubscribe","variable","following","follower","userData","_id","post","then","response","data","success","alert","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button } from '@material-ui/core';\r\nimport './Post.css';\r\n\r\nfunction Follow(props) {\r\n\r\n    const user = useSelector(state => state.user);\r\n\r\n    const [followers, setFollowers] = useState(0);\r\n    const [followed, setFollowed] = useState(false);\r\n\r\n    const handleSubscribe = () => {\r\n        let variable = {\r\n            following: props.following,\r\n            follower: user.userData._id\r\n        }\r\n\r\n        if (followed === true) {\r\n            axios.post('/api/follow/unfollow', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        setFollowers(followers - 1);\r\n                        setFollowed(false);\r\n                    } else {\r\n                        alert('Unable to Unfollow');\r\n                    }\r\n                })\r\n        } else {\r\n            axios.post('/api/follow/follow', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        setFollowers(followers + 1);\r\n                        setFollowed(true);\r\n                    } else {\r\n                        alert('User Cannot be followed!!');\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const variable = {\r\n            following: props.following,\r\n            follower: user.userData._id\r\n        }\r\n\r\n        axios.post('/api/follow/followers', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setFollowers(response.data.followers.length);\r\n                } else {\r\n                    alert('Cannot get Followers');\r\n                }\r\n            })\r\n\r\n        axios.post('/api/follow/followed', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    if (response.data.followed.length !== 0) {\r\n                        setFollowed(true);\r\n                    }\r\n                } else {\r\n                    alert('Cannot Get Info!!');\r\n                }\r\n            })\r\n\r\n    }, [])\r\n\r\n\r\n    if (user.userData._id !== props.following) {\r\n        return (\r\n            <div className='postDetail__flwBtn'>\r\n                <Button className={followed === true ? 'flw' : ''}\r\n                    variant='outlined'\r\n                    type='submit'\r\n                    onClick={handleSubscribe}>\r\n                    {followers} {followed === true ? 'Followed' : 'Follow'}\r\n                </Button>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Follow\r\n"]},"metadata":{},"sourceType":"module"}