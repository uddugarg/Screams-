{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\Screams-\\\\frontend\\\\src\\\\components\\\\Upload\\\\ImgDropZone.js\";\nimport React, { useState } from 'react';\nimport Dropzone from 'react-dropzone';\nimport axios from 'axios';\nimport ImageIcon from '@material-ui/icons/Image';\nimport './Upload.css';\n\nfunction ImgDropZone({\n  image,\n  setImage\n}) {\n  const handleDrop = files => {\n    let formData = new FormData();\n    const config = {\n      header: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    console.log(files);\n    formData.append('file', files[0]);\n    axios.post('/api/post/uploadImage', formData, config).then(response => {\n      if (response.data.success) {\n        setImage([...image, response.data.filePath]);\n      } else {\n        alert('Failed to upload Image!');\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropzone, {\n    onDrop: handleDrop,\n    multiple: false,\n    maxSize: 80000000000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, ({\n    getRootProps,\n    getInputProps\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps({\n    className: 'dropzone',\n    onDrop: event => event.stopPropagation()\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    name: \"file\"\n  }, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(ImageIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  })))));\n}\n\nexport default ImgDropZone;","map":{"version":3,"sources":["D:/Web Development/Screams-/frontend/src/components/Upload/ImgDropZone.js"],"names":["React","useState","Dropzone","axios","ImageIcon","ImgDropZone","image","setImage","handleDrop","files","formData","FormData","config","header","console","log","append","post","then","response","data","success","filePath","alert","getRootProps","getInputProps","className","onDrop","event","stopPropagation"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAO,cAAP;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAArB,EAA0C;AAEtC,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1B,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AAEA,UAAMC,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE;AAAE,wBAAgB;AAAlB;AADG,KAAf;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAC,IAAAA,QAAQ,CAACM,MAAT,CAAgB,MAAhB,EAAwBP,KAAK,CAAC,CAAD,CAA7B;AAEAN,IAAAA,KAAK,CAACc,IAAN,CAAW,uBAAX,EAAoCP,QAApC,EAA8CE,MAA9C,EACKM,IADL,CACUC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvBd,QAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWa,QAAQ,CAACC,IAAT,CAAcE,QAAzB,CAAD,CAAR;AACH,OAFD,MAEO;AACHC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACH;AACJ,KAPL;AAQH,GAjBD;;AAmBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAEf,UAAlB;AACI,IAAA,QAAQ,EAAE,KADd;AAEI,IAAA,OAAO,EAAE,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIK,CAAC;AAAEgB,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAAD,kBACG;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,6CACQD,YAAY,CAAC;AACbE,IAAAA,SAAS,EAAE,UADE;AAEbC,IAAAA,MAAM,EAAEC,KAAK,IAAIA,KAAK,CAACC,eAAN;AAFJ,GAAD,CADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMI;AAAO,IAAA,IAAI,EAAC;AAAZ,KAAuBJ,aAAa,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KANJ,eAOI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADJ,CALR,CADJ,CADJ;AAsBH;;AAED,eAAepB,WAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport Dropzone from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport './Upload.css';\r\n\r\nfunction ImgDropZone({ image, setImage }) {\r\n\r\n    const handleDrop = (files) => {\r\n        let formData = new FormData();\r\n\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n        console.log(files);\r\n        formData.append('file', files[0]);\r\n\r\n        axios.post('/api/post/uploadImage', formData, config)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setImage([...image, response.data.filePath]);\r\n                } else {\r\n                    alert('Failed to upload Image!');\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Dropzone onDrop={handleDrop}\r\n                multiple={false}\r\n                maxSize={80000000000}\r\n            >\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div className=\"container\">\r\n                        <div\r\n                            {...getRootProps({\r\n                                className: 'dropzone',\r\n                                onDrop: event => event.stopPropagation()\r\n                            })}\r\n                        >\r\n                            <input name='file' {...getInputProps()} />\r\n                            <ImageIcon />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImgDropZone\r\n"]},"metadata":{},"sourceType":"module"}