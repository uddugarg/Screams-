{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development\\\\Screams-\\\\frontend\\\\src\\\\components\\\\Profile\\\\Profile.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../Header/Header';\nimport Sidebar from '../Sidebar/Sidebar';\nimport UserPosts from './UserPosts';\nimport { Link } from 'react-router-dom';\nimport { Avatar, Button, Divider, makeStyles, Modal } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport './Profile.css';\nimport { useSelector } from 'react-redux';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    maxWidth: 500,\n    maxHeight: '90vh',\n    height: 'auto',\n    objectFit: 'contain',\n    width: '90%',\n    backgroundColor: '#f9c5d1',\n    backgroundImage: 'linear-gradient(315deg, #f9c5d1 0%, #9795ef 74%)',\n    border: '4px solid rgb(176, 134, 200)',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    overflowX: 'hidden'\n  }\n}));\n\nfunction Profile() {\n  const user = useSelector(state => state.user);\n  const [openFollower, setOpenFollower] = useState(false);\n  const [openFollowing, setOpenFollowing] = useState(false);\n  const [modalStyle] = useState(getModalStyle);\n  const classes = useStyles();\n  const [userDetails, setUserDetails] = useState('');\n  const [followersCount, setFollowersCount] = useState(0);\n  const [followers, setFollowers] = useState([]);\n  const [followingCount, setFollowingCount] = useState(0);\n  const [following, setFollowing] = useState([]);\n  const [postsCount, setPostsCount] = useState(0);\n  const variable = {\n    writer: localStorage.getItem('userId')\n  };\n  useEffect(() => {\n    axios.post('/api/user/getUser', variable).then(response => {\n      if (response.data.success) {\n        setUserDetails(response.data.userDetails);\n      } else {\n        alert('Cannot Get The User Deatils');\n      }\n    });\n    axios.post('/api/follow/userFollowers', variable).then(response => {\n      if (response.data.success) {\n        setFollowersCount(response.data.followers.length);\n        console.log(response.data.followers);\n        setFollowers(response.data.followers);\n      } else {\n        alert('Cannot get Followers');\n      }\n    });\n    axios.post('/api/follow/userFollowing', variable).then(response => {\n      if (response.data.success) {\n        setFollowingCount(response.data.following.length);\n        console.log(response.data.following);\n        setFollowing(response.data.following);\n      } else {\n        alert('Cannot get Followings');\n      }\n    });\n    axios.post('/api/post/getUserPosts', variable).then(response => {\n      if (response.data.success) {\n        setPostsCount(response.data.usersPosts.length);\n      } else {\n        alert('Server Down! Please Visit Later!');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__panelDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__flw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"profile__pic\",\n    src: userDetails.image,\n    alt: \"dp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"flwrs\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, postsCount, \" Posts\"), /*#__PURE__*/React.createElement(Modal, {\n    open: openFollower,\n    onClose: () => setOpenFollower(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, \"Followers\"), followers.map((follower, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__followers\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: follower.follower.image,\n    alt: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 41\n    }\n  }, follower.follower.firstName + ' ' + follower.follower.lastName), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    onClick: () => setOpenFollower(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, followersCount, \" Followers\"), /*#__PURE__*/React.createElement(Modal, {\n    open: openFollowing,\n    onClose: () => setOpenFollowing(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }, \"Following\"), following.map((follow, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__followers\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: follow.following.image,\n    alt: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 41\n    }\n  }, follow.following.firstName + ' ' + follow.following.lastName), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    onClick: () => setOpenFollowing(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, followingCount, \" Following\")), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, userDetails.firstName, \" \", userDetails.lastName), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"profile__username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, \"@\", userDetails.username), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"profile__bio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, userDetails.bio), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"profile__site\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, userDetails.website), /*#__PURE__*/React.createElement(Link, {\n    to: `/manage/${user.userData && user.userData.username}/updateProfile`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    className: \"profile__edit\",\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userPosts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UserPosts, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default Profile;","map":{"version":3,"sources":["D:/Web Development/Screams-/frontend/src/components/Profile/Profile.js"],"names":["React","useEffect","useState","axios","Header","Sidebar","UserPosts","Link","Avatar","Button","Divider","makeStyles","Modal","EditIcon","useSelector","getModalStyle","top","left","transform","useStyles","theme","paper","position","maxWidth","maxHeight","height","objectFit","width","backgroundColor","backgroundImage","border","boxShadow","shadows","padding","spacing","overflowX","Profile","user","state","openFollower","setOpenFollower","openFollowing","setOpenFollowing","modalStyle","classes","userDetails","setUserDetails","followersCount","setFollowersCount","followers","setFollowers","followingCount","setFollowingCount","following","setFollowing","postsCount","setPostsCount","variable","writer","localStorage","getItem","post","then","response","data","success","alert","length","console","log","usersPosts","image","map","follower","index","firstName","lastName","follow","username","bio","website","userData"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../Header/Header';\r\nimport Sidebar from '../Sidebar/Sidebar';\r\nimport UserPosts from './UserPosts';\r\nimport { Link } from 'react-router-dom';\r\nimport { Avatar, Button, Divider, makeStyles, Modal } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport './Profile.css';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction getModalStyle() {\r\n    const top = 50;\r\n    const left = 50;\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        position: 'absolute',\r\n        maxWidth: 500,\r\n        maxHeight: '90vh',\r\n        height: 'auto',\r\n        objectFit: 'contain',\r\n        width: '90%',\r\n        backgroundColor: '#f9c5d1',\r\n        backgroundImage: 'linear-gradient(315deg, #f9c5d1 0%, #9795ef 74%)',\r\n        border: '4px solid rgb(176, 134, 200)',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        overflowX: 'hidden',\r\n    },\r\n}));\r\n\r\nfunction Profile() {\r\n\r\n    const user = useSelector(state => state.user);\r\n\r\n    const [openFollower, setOpenFollower] = useState(false)\r\n    const [openFollowing, setOpenFollowing] = useState(false)\r\n    const [modalStyle] = useState(getModalStyle)\r\n    const classes = useStyles();\r\n\r\n    const [userDetails, setUserDetails] = useState('');\r\n    const [followersCount, setFollowersCount] = useState(0);\r\n    const [followers, setFollowers] = useState([]);\r\n    const [followingCount, setFollowingCount] = useState(0);\r\n    const [following, setFollowing] = useState([]);\r\n    const [postsCount, setPostsCount] = useState(0);\r\n\r\n    const variable = {\r\n        writer: localStorage.getItem('userId'),\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        axios.post('/api/user/getUser', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setUserDetails(response.data.userDetails);\r\n                } else {\r\n                    alert('Cannot Get The User Deatils');\r\n                }\r\n            })\r\n\r\n        axios.post('/api/follow/userFollowers', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setFollowersCount(response.data.followers.length);\r\n                    console.log(response.data.followers);\r\n                    setFollowers(response.data.followers);\r\n                } else {\r\n                    alert('Cannot get Followers');\r\n                }\r\n            })\r\n\r\n        axios.post('/api/follow/userFollowing', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setFollowingCount(response.data.following.length);\r\n                    console.log(response.data.following);\r\n                    setFollowing(response.data.following);\r\n                } else {\r\n                    alert('Cannot get Followings');\r\n                }\r\n            })\r\n\r\n        axios.post('/api/post/getUserPosts', variable)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setPostsCount(response.data.usersPosts.length);\r\n                } else {\r\n                    alert('Server Down! Please Visit Later!');\r\n                }\r\n            })\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n\r\n            <Sidebar />\r\n\r\n            <div className='profile__panel'>\r\n                <div className='profile__panelDetails'>\r\n                    <div className='profile__flw'>\r\n                        <Avatar className='profile__pic' src={userDetails.image} alt='dp' />\r\n                        <Button className='flwrs' type='text'>{postsCount} Posts</Button>\r\n\r\n                        <Modal open={openFollower} onClose={() => setOpenFollower(false)}>\r\n                            <div style={modalStyle} className={classes.paper}>\r\n                                <h3>Followers</h3>\r\n                                {followers.map((follower, index) => (\r\n                                    <div className='profile__followers' key={index}>\r\n                                        <Avatar src={follower.follower.image} alt='user' />\r\n                                        <h4>{follower.follower.firstName + ' ' + follower.follower.lastName}</h4>\r\n                                        <Divider />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </Modal>\r\n                        <Button type='text' onClick={() => setOpenFollower(true)}>{followersCount} Followers</Button>\r\n\r\n                        <Modal open={openFollowing} onClose={() => setOpenFollowing(false)}>\r\n                            <div style={modalStyle} className={classes.paper}>\r\n                                <h3>Following</h3>\r\n                                {following.map((follow, index) => (\r\n                                    <div className='profile__followers' key={index}>\r\n                                        <Avatar src={follow.following.image} alt='user' />\r\n                                        <h4>{follow.following.firstName + ' ' + follow.following.lastName}</h4>\r\n                                        <Divider />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </Modal>\r\n                        <Button type='text' onClick={() => setOpenFollowing(true)}>{followingCount} Following</Button>\r\n                    </div>\r\n                    <h3>{userDetails.firstName} {userDetails.lastName}</h3>\r\n                    <h4 className='profile__username'>@{userDetails.username}</h4>\r\n                    <h4 className='profile__bio'>{userDetails.bio}</h4>\r\n                    <h4 className='profile__site'>{userDetails.website}</h4>\r\n                    <Link to={`/manage/${user.userData && user.userData.username}/updateProfile`}>\r\n                        <EditIcon className='profile__edit' fontSize='small' />\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className='userPosts'>\r\n                    <UserPosts />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Profile\r\n"]},"metadata":{},"sourceType":"module"}